import{u as h,a as b,r as c,s as j,j as e,H as N,b as w,f as P,c as C,d as H,e as F,g as L,F as S,P as T,h as E,i as M,k as D,l as R}from"./index-xn3l2j_T.js";const u=()=>{const s=h(o=>o.search.searchFilter),t=b(),n=c.useCallback(o=>{t(j(o))},[t]);return{searchFilter:s,filterPokemons:n}},z=()=>{const{searchFilter:s,filterPokemons:t}=u(),n=o=>{t(o.target.value)};return e.jsxs("div",{className:"relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx(N,{className:"h-5 w-5 text-gray-400 group-focus-within:text-primary transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Buscar Pokémon...",className:"block w-full pl-10 pr-3 py-3 border border-gray-300 dark:border-slate-700 rounded-xl leading-5 bg-white dark:bg-slate-800 text-gray-900 dark:text-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary sm:text-sm transition-all shadow-sm",value:s,onChange:n})]})},A=()=>{const s=b(),{pokemons:t,isLoading:n,isError:o,error:x,currentPage:a,itemsPerPage:r,totalCount:g}=h(l=>l.pokemon),{searchFilter:i}=u(),{favoriteIds:d}=w(),k=c.useCallback(async()=>{s(P({page:a,limit:r}))},[s,a,r]),p=c.useCallback(l=>{s(C(l))},[s]),f=Math.ceil(g/r),m=c.useMemo(()=>t.map(l=>({...l,favorite:d.includes(l.id)})),[t,d]),y=c.useMemo(()=>i?m.filter(l=>l.name.toLowerCase().includes(i.toLowerCase())):m,[m,i]),v=c.useMemo(()=>m.filter(l=>l.favorite),[m]);return{pokemons:y,favoritePokemons:v,isLoading:n,isError:o,error:x,fetchPokemons:k,currentPage:a,itemsPerPage:r,totalCount:g,totalPages:f,goToPage:p}},B=()=>e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h1",{className:"text-5xl md:text-7xl font-extrabold text-gray-900 dark:text-white tracking-tight",children:"Pokédex"}),e.jsx("p",{className:"text-lg md:text-xl font-medium text-gray-500 dark:text-slate-400",children:"Gotta Catch 'Em All!"})]}),I="https://slinkter.github.io/myprojectapi07/assets/logo-HDYmItiV.svg",G=()=>{const{currentTheme:s,toggleAppTheme:t}=H();return e.jsx("nav",{className:"sticky top-0 z-50 w-full backdrop-blur-md border-b border-gray-200 dark:border-slate-800 bg-white/70 dark:bg-slate-900/70 transition-all duration-300",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsx("div",{className:"flex-shrink-0 flex items-center",children:e.jsx("img",{src:I,alt:"Logo Pokémon",className:"h-10 w-auto"})}),e.jsx("div",{className:"flex items-center",children:e.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-800 focus:outline-none transition-colors duration-200","aria-label":"Alternar tema",children:s==="dark"?e.jsx(F,{size:24,className:"text-yellow-400"}):e.jsx(L,{size:24,className:"text-gray-600"})})})]})})})};function Y(){const{pokemons:s,favoritePokemons:t,isLoading:n,error:o,fetchPokemons:x,currentPage:a,totalPages:r,goToPage:g}=A();c.useEffect(()=>{x()},[x,a]);const i=d=>{d>=1&&d<=r&&(g(d),window.scrollTo({top:0,behavior:"smooth"}))};return e.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-900 transition-colors duration-300",children:[e.jsx(G,{}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 md:py-12",children:e.jsxs("div",{className:"flex flex-col items-center space-y-12",children:[e.jsx(B,{}),e.jsx("div",{className:"w-full max-w-xl",children:e.jsx(z,{})}),e.jsx(S,{favoritePokemons:t}),e.jsx("div",{className:"w-full",children:e.jsx(T,{isLoading:n,error:o,pokemons:s,onRetry:x})}),!n&&!o&&r>1&&e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-2 py-8",children:[e.jsx("button",{onClick:()=>i(1),disabled:a===1,className:"p-2 rounded-lg bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-600 dark:text-slate-400 disabled:opacity-30 hover:bg-gray-50 dark:hover:bg-slate-700 transition-all active:scale-90",children:e.jsx(E,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>i(a-1),disabled:a===1,className:"p-2 rounded-lg bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-600 dark:text-slate-400 disabled:opacity-30 hover:bg-gray-50 dark:hover:bg-slate-700 transition-all active:scale-90",children:e.jsx(M,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-lg shadow-sm",children:[e.jsx("span",{className:"text-sm font-bold text-primary",children:a}),e.jsx("span",{className:"text-sm text-gray-400",children:"/"}),e.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-slate-400",children:r})]}),e.jsx("button",{onClick:()=>i(a+1),disabled:a===r,className:"p-2 rounded-lg bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-600 dark:text-slate-400 disabled:opacity-30 hover:bg-gray-50 dark:hover:bg-slate-700 transition-all active:scale-90",children:e.jsx(D,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>i(r),disabled:a===r,className:"p-2 rounded-lg bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 text-gray-600 dark:text-slate-400 disabled:opacity-30 hover:bg-gray-50 dark:hover:bg-slate-700 transition-all active:scale-90",children:e.jsx(R,{className:"w-5 h-5"})})]})]})})]})}export{Y as default};
